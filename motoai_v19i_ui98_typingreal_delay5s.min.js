(function(){if(window.MotoAI_v19i_LOADED)return;window.MotoAI_v19i_LOADED=!0;const e={brand:"MS. Thu Hà",phone:"0857255868",zalo:"https://zalo.me/0857255868",whatsapp:"https://wa.me/84857255868",map:"https://maps.app.goo.gl/wnKn2LH4JohhRHHX7"};const $=e=>document.querySelector(e),sleep=e=>new Promise(t=>setTimeout(t,e));function injectUI(){if($("#mta-root"))return;const t=document.createElement("div");t.innerHTML=`<div id="mta-root"><button id="mta-bubble" title="Chat"><svg viewBox="0 0 64 64" width="28" height="28"><circle cx="32" cy="32" r="28" fill="#0084ff"></circle><path d="M20 36l9-11 6 6 9-9-9 14-6-6-9 6z" fill="#fff"></path></svg></button><div id="mta-backdrop"></div><section id="mta-card"><header id="mta-header"><div class="brand"><span class="b-name">${e.brand}</span><nav class="quick"><a class="q" href="tel:${e.phone}">📞</a><a class="q" href="${e.zalo}" target="_blank">Z</a><a class="q" href="${e.whatsapp}" target="_blank">W</a><a class="q" href="${e.map}" target="_blank">📍</a></nav><button id="mta-close">✕</button></div></header><main id="mta-body"></main><div id="mta-sugs"></div><footer id="mta-input"><input id="mta-in" placeholder="Nhập câu hỏi..."/><button id="mta-send">Gửi</button></footer></section></div>`;document.body.appendChild(t.firstElementChild);const n=document.createElement("style");n.textContent=`#mta-root{position:fixed;left:16px;bottom:20px;z-index:99999;font-family:-apple-system,system-ui}#mta-bubble{width:56px;height:56px;border:none;border-radius:14px;background:#e6f2ff;display:flex;align-items:center;justify-content:center;cursor:pointer;box-shadow:0 8px 22px rgba(0,0,0,.18)}#mta-backdrop{position:fixed;inset:0;background:rgba(0,0,0,.2);opacity:0;pointer-events:none;transition:.15s}#mta-backdrop.show{opacity:1;pointer-events:auto}#mta-card{position:fixed;left:0;right:0;bottom:0;margin:auto;width:min(900px,calc(100% - 24px));height:66vh;max-height:720px;background:#fff;color:#0b1220;border-radius:16px 16px 0 0;box-shadow:0 -10px 30px rgba(0,0,0,.2);transform:translateY(110%);transition:.18s ease-out;display:flex;flex-direction:column;overflow:hidden}#mta-card.open{transform:translateY(0)}#mta-body{flex:1;overflow:auto;padding:10px 12px;font-size:15px;background:#fff}.m-msg{margin:8px 0;padding:10px 12px;border-radius:14px;max-width:84%;line-height:1.45;box-shadow:0 2px 6px rgba(0,0,0,.06)}.m-msg.user{background:#e9f3ff;margin-left:auto}.m-msg.bot{background:#f9fafb}#mta-input{display:flex;gap:8px;padding:10px;border-top:1px solid rgba(0,0,0,.06)}#mta-in{flex:1;padding:10px;border-radius:10px;border:1px solid rgba(0,0,0,.12)}#mta-send{background:#0084ff;color:#fff;border:none;border-radius:10px;padding:10px 14px;cursor:pointer}`,document.head.appendChild(n)}function addMsg(e,t){if(!t)return;const n=document.createElement("div");n.className="m-msg "+("user"===e?"user":"bot"),n.textContent=t,$("#mta-body").appendChild(n),$("#mta-body").scrollTop=$("#mta-body").scrollHeight}function showTyping(){const e=document.createElement("div");e.id="mta-typing",e.className="m-msg bot",e.textContent="...",$("#mta-body").appendChild(e),$("#mta-body").scrollTop=$("#mta-body").scrollHeight}function hideTyping(){const e=$("#mta-typing");e&&e.remove()}const polite=e=>`Mình đang xem qua thông tin... ${e}`;async function sendUser(e){addMsg("user",e),showTyping(),await sleep(2e3+3e3*Math.random()),hideTyping(),addMsg("bot",polite("Chào bạn, mình sẵn sàng giúp nhé."))}function openChat(){$("#mta-card").classList.add("open"),$("#mta-backdrop").classList.add("show"),$("#mta-bubble").style.display="none"}function closeChat(){$("#mta-card").classList.remove("open"),$("#mta-backdrop").classList.remove("show"),$("#mta-bubble").style.display="flex"}document.addEventListener("DOMContentLoaded",()=>{injectUI(),$("#mta-bubble").addEventListener("click",openChat),$("#mta-close").addEventListener("click",closeChat),$("#mta-backdrop").addEventListener("click",closeChat),$("#mta-send").addEventListener("click",()=>{const e=$("#mta-in").value.trim();e&&($("#mta-in").value="",sendUser(e))})});})();
