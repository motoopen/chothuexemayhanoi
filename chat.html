<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Landing Page Chatbot</title>
<style>
body { font-family: Arial; margin:0; padding:20px; background:#f0f0f0; }

/* ==== Ná»™i dung demo tá»« khoÃ¡ ==== */
.keyword { color:#ff4081; font-weight:bold; cursor:pointer; }

/* ==== Chatbot ==== */
#chatbotIcon {
  position: fixed; bottom: 20px; left: 20px;
  width:50px; height:50px; background:#ff4081; border-radius:50%;
  display:flex; align-items:center; justify-content:center;
  color:#fff; font-size:24px; cursor:pointer; z-index:9999;
  box-shadow:0 4px 15px rgba(0,0,0,0.2); transition:transform 0.2s;
}
#chatbotIcon:active { transform:scale(0.9); }

#chatbot {
  position: fixed; bottom:20px; left:20px; width:320px; max-width:90%; height:450px;
  background:#fff; border-radius:20px; box-shadow:0 4px 25px rgba(0,0,0,0.25);
  display:flex; flex-direction:column; overflow:hidden;
  z-index:9999; transform:translateY(100%); transition: transform 0.4s cubic-bezier(0.4,0,0.2,1);
}
#chatbot.show { transform:translateY(0); }

/* Header */
#chatHeader { background:#ff4081; color:#fff; padding:10px; font-weight:bold;
display:flex; align-items:center; border-bottom:1px solid #ddd; cursor:grab;}
#chatHeader img { width:40px; height:40px; border-radius:50%; margin-right:10px; transition:transform 0.1s;}
#closeChat { margin-left:auto; cursor:pointer; font-weight:bold; font-size:18px; }

/* Messages */
#chatMessages { flex:1; padding:10px; overflow-y:auto; display:flex; flex-direction:column; }
.bot, .user { padding:10px 15px; margin:5px 0; border-radius:20px; max-width:80%; position:relative; }
.bot { background:#e1f5fe; align-self:flex-start; }
.user { background:#c8e6c9; align-self:flex-end; }

/* Input */
#chatInput { display:flex; border-top:1px solid #ddd; }
#chatInput input { flex:1; border:none; padding:10px; outline:none; border-radius:0; }
#chatInput button { padding:10px 15px; background:#ff4081; color:#fff; border:none; cursor:pointer; }

/* Balloon animation */
.ballon { position:absolute; font-size:20px; animation:fly 1s ease-out forwards; }
@keyframes fly { 0% {opacity:1; transform:translateY(0);} 100% {opacity:0; transform:translateY(-40px);}}
</style>
</head>
<body>

<h2>Landing page demo</h2>
<p>Muá»‘n <span class="keyword" data-keyword="thuÃª">thuÃª</span> xe mÃ¡y?</p>
<p>Báº¡n quan tÃ¢m <span class="keyword" data-keyword="xe-50cc">xe 50cc</span> hay <span class="keyword" data-keyword="honda-vision">Honda Vision</span>?</p>
<p>Sá»‘ ngÃ y báº¡n muá»‘n thuÃª: <span class="keyword" data-keyword="1-ngay">1 ngÃ y</span>, <span class="keyword" data-keyword="1-tuan">1 tuáº§n</span> hay <span class="keyword" data-keyword="1-thang">1 thÃ¡ng</span>?</p>

<!-- Chatbot -->
<div id="chatbotIcon">ðŸ’¬</div>

<div id="chatbot">
  <div id="chatHeader">
    <img id="botIcon" src="https://i.imgur.com/3cXnUuT.png" alt="Bot">
    ChatGPT Bot
    <span id="closeChat">Ã—</span>
  </div>
  <div id="chatMessages"></div>
  <div id="chatInput">
    <input type="text" placeholder="Nháº­p tin nháº¯n...">
    <button>Gá»­i</button>
  </div>
</div>

<script>
// ==== Chatbot setup ====
const chatbot = document.getElementById('chatbot');
const chatbotIcon = document.getElementById('chatbotIcon');
const closeChat = document.getElementById('closeChat');
const messages = document.getElementById('chatMessages');
const input = document.querySelector('#chatInput input');
const button = document.querySelector('#chatInput button');
const botIcon = document.getElementById('botIcon');

const prices = {
  "xe-50cc": { "ngay":200, "tuan":800, "thang":1800 },
  "honda-vision": { "ngay":200, "tuan":900, "thang":2000 },
  "airblade": { "ngay":200, "tuan":800, "thang":1500 },
  "xe-wave": { "ngay":150, "tuan":600, "thang":1200 },
  "xe-sirius": { "ngay":150, "tuan":600, "thang":1200 },
  "xe-dien": { "ngay":200, "tuan":800, "thang":1500 }
};

// Show bot message
function showBotMessage(msg){
  botIcon.style.transform="scaleY(0.1)";
  setTimeout(()=>{botIcon.style.transform="scaleY(1)";},150);

  const div = document.createElement('div');
  div.className='bot';
  div.textContent=msg;
  messages.appendChild(div);
  messages.scrollTop=messages.scrollHeight;

  const balloon=document.createElement('div');
  balloon.className='ballon';
  balloon.textContent="ðŸŽˆâœ¨";
  balloon.style.left=Math.random()*80+"%";
  div.appendChild(balloon);
  setTimeout(()=>{div.removeChild(balloon);},1000);
}

// Má»Ÿ / Ä‘Ã³ng chatbot
chatbotIcon.addEventListener('click', ()=>{
  chatbot.classList.add('show');
  showBotMessage("ChÃ o báº¡n! TÃ´i lÃ  ChatGPT Viá»‡t ðŸ˜Ž. Báº¡n cÃ³ thá»ƒ há»i vá» thuÃª xe mÃ¡y nhÃ©!");
});
closeChat.addEventListener('click', ()=>{ chatbot.classList.remove('show'); });

// Click tá»« khoÃ¡ HTML
document.querySelectorAll('.keyword').forEach(el=>{
  el.addEventListener('click', ()=>{
    chatbot.classList.add('show');
    const kw = el.dataset.keyword;
    let reply = "Báº¡n muá»‘n thuÃª xe ga hay xe sá»‘ vÃ  máº¥y ngÃ y, tuáº§n, thÃ¡ng?";
    
    for(let key in prices){
      if(kw.includes(key) || key.includes(kw)){
        if(kw.includes("ngay")) reply=`GiÃ¡ thuÃª: ${prices[key].ngay}k/1 ngÃ y. Báº¡n liÃªn há»‡ Zalo Ä‘á»ƒ bÃ¡o giÃ¡ chÃ­nh xÃ¡c.`;
        if(kw.includes("tuan")) reply=`GiÃ¡ thuÃª: ${prices[key].tuan}k/1 tuáº§n. Báº¡n liÃªn há»‡ Zalo Ä‘á»ƒ bÃ¡o giÃ¡ chÃ­nh xÃ¡c.`;
        if(kw.includes("thang")) reply=`GiÃ¡ thuÃª: ${prices[key].thang}k/1 thÃ¡ng. Báº¡n liÃªn há»‡ Zalo Ä‘á»ƒ bÃ¡o giÃ¡ chÃ­nh xÃ¡c.`;
      }
    }
    showBotMessage(reply);
  });
});

// Nháº¯n tin báº±ng input
function handleInput(){
  const userMsg=input.value.trim();
  if(!userMsg) return;
  const div=document.createElement('div');
  div.className='user';
  div.textContent=userMsg;
  messages.appendChild(div);
  messages.scrollTop=messages.scrollHeight;

  // Tá»± Ä‘á»™ng nháº­n tá»« khoÃ¡
  let found=false;
  for(let key in prices){
    if(userMsg.toLowerCase().includes(key)){
      showBotMessage(`Báº¡n muá»‘n thuÃª ${key.replace(/-/g,' ')}. LiÃªn há»‡ Zalo Ä‘á»ƒ bÃ¡o giÃ¡ chÃ­nh xÃ¡c ðŸ˜Ž`);
      found=true; break;
    }
  }
  if(!found && /ngÃ y|tuáº§n|thÃ¡ng/.test(userMsg)) showBotMessage("Báº¡n muá»‘n thuÃª xe nÃ o? HÃ£y chá»n loáº¡i xe Ä‘á»ƒ tÃ´i bÃ¡o giÃ¡.");
  if(!found && !/ngÃ y|tuáº§n|thÃ¡ng/.test(userMsg)) showBotMessage("Hmmâ€¦ tÃ´i chÆ°a hiá»ƒu ðŸ˜…, báº¡n nháº¥n vÃ o tá»« khoÃ¡ mÃ u há»“ng trÃªn web nhÃ©!");
  input.value='';
}

button.addEventListener('click', handleInput);
input.addEventListener('keydown', e=>{ if(e.key==='Enter') handleInput(); });

</script>
</body>
</html>
